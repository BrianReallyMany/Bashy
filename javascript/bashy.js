// Generated by CoffeeScript 1.8.0
(function() {
  var BashyOS, BashySprite;

  BashySprite = (function() {
    function BashySprite(sprite) {
      this.sprite = sprite;
    }

    BashySprite.prototype.moveLeft = function() {
      if (this.sprite.x > 0) {
        return this.sprite.x -= 48;
      }
    };

    BashySprite.prototype.moveRight = function() {
      var limit;
      limit = 288 - this.sprite.getBounds().width;
      if (this.sprite.x < limit) {
        return this.sprite.x += 48;
      }
    };

    BashySprite.prototype.moveUp = function() {
      if (this.sprite.y > 0) {
        return this.sprite.y -= 48;
      }
    };

    BashySprite.prototype.moveDown = function() {
      var limit;
      limit = 288 - this.sprite.getBounds().height;
      if (this.sprite.y < limit) {
        return this.sprite.y += 48;
      }
    };

    return BashySprite;

  })();

  BashyOS = (function() {
    function BashyOS() {}

    BashyOS.prototype.handleTerminalInput = function(input) {
      return "> " + input + "\n" + input;
    };

    return BashyOS;

  })();

  jQuery(function() {
    var bashy_himself, canvas, os, stage, startGame, tick;
    os = new BashyOS();
    os.handleTerminalInput('foo');
    $('#terminal').terminal(os.handleTerminalInput, {
      greetings: "",
      prompt: '> ',
      name: 'test'
    });
    canvas = $("#bashy_canvas")[0];
    stage = new createjs.Stage(canvas);
    bashy_himself = new Image();
    bashy_himself.onload = function() {
      return startGame();
    };
    bashy_himself.src = "assets/bashy_sprite_sheet.png";
    tick = function() {
      return stage.update();
    };
    return startGame = function() {
      var bashySpriteSheet, sprite;
      bashySpriteSheet = new createjs.SpriteSheet({
        images: [bashy_himself],
        frames: {
          width: 64,
          height: 64
        },
        animations: {
          walking: [0, 4, "walking"]
        }
      });
      sprite = new createjs.Sprite(bashySpriteSheet, 0);
      sprite.gotoAndPlay("walking");
      sprite.currentFrame = 0;
      stage.addChild(sprite);
      createjs.Ticker.addEventListener("tick", tick);
      createjs.Ticker.useRAF = true;
      return createjs.Ticker.setFPS(5);
    };
  });

}).call(this);
